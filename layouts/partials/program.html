{{ if isset .Site.Params "program" }}
{{ if .Site.Params.program.enable }}
{{ if gt (len .Site.Data.program) 0 }}
<section class="custom-section" id="program">

    <div class="strings">
        <div class="string" style="opacity:0.2;"></div>
        <div class="string" style="opacity:0.2;"></div>
        <div class="string" style="opacity:0.2;"></div>
        <div class="string" style="opacity:0.15;"></div>
        <div class="string" style="opacity:0.15;"></div>
        <div class="string" style="opacity:0.1;"></div>
    </div>


    <div class="container">
        <div class="section-title">
            {{ .Site.Params.program.title }}
        </div>


        <div class="panel-group" id="program-accordion" role="tablist" aria-multiselectable="true">
            {{ range $index, $element := sort .Site.Data.program "order"}}
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingOne">
                  <div class="panel-title">
                    <a role="button" data-toggle="collapse" 
                        href="#collapse-{{$index}}" aria-expanded="true">
                      {{ $element.date}}
                    </a>
                  </div>
                </div>
                <div id="collapse-{{$index}}" class="panel-collapse collapse in" role="tabpanel">
                  <div class="panel-body">
                    {{ range $event := $element.events}}
                        <div class="event-header">
                            <div>{{ $event.type }}</div>
                            {{ with $event.artist }}
                                <div>&nbsp- {{ . }} </div>
                            {{ end }}
                            <div class="dummy"></div>
                            {{ with $event.time}}
                                <div>{{ . }}</div>
                            {{ end }}
                        </div>
                        {{ with $event.description}}
                            <div>{{ . }}</div>
                        {{ end }}
                    {{ end }}
                  </div>
                </div>
            </div>
            {{ end }}
        </div>

    </div>
</section>
{{ end }}
{{ end }}
{{ end }}
